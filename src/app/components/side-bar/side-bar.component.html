
  @if (sidebarExtended === true) {
    <div id="sidebar">
      <mat-icon 
        class="close-arrow"
        style="color: whitesmoke;"
        (click)="toggleSidebar()"
      >
        keyboard_arrow_left
      </mat-icon>
      
      <h2>Filter Games</h2>
      <div class="reset">
        <button id="reset-form-btn" (click)="resetForm()">reset form</button>
        <button id="reset-filter-btn" (click)="resetFilter()">reset filter</button>
      </div>
      
      <form [formGroup]="filterForm">
        <div class="form-group">
          <input id="search" formControlName="search" placeholder="Search games...">
        </div>

        <div class="form-group">
          <label for="releaseDateBegin">Release Date (Start)</label>
          <input type="date" id="releaseDateBegin" formControlName="releaseDateBegin" >
        </div>

        <div class="form-group">
          <label for="releaseDateEnd">Release Date (End)</label>
          <input id="releaseDateEnd" formControlName="releaseDateEnd" type="date" >
        </div>

        <div class="form-group">
          <label (click)="toggleGenres()" class="section-label">Genres <mat-icon class="extend-categories-btn">{{genresExtended ? "keyboard_arrow_up" : "keyboard_arrow_down"}}</mat-icon></label>
          @if (genresExtended) {
            @if (genres.length > 0) {
              <div class="checkbox-group">
                @for (genre of genres; track $index) {
                  <mat-checkbox [formControl] = "genresArray.controls[$index]">
                    {{genre.name}}
                  </mat-checkbox>
                }
              </div>            
            }@else{
              <p>Loading genres...</p>
            }
          }
        </div>

        <div class="form-group">
          <label (click)="togglePlatforms()" class="section-label">Platforms <mat-icon>{{platformsExtended ? "keyboard_arrow_up" : "keyboard_arrow_down"}}</mat-icon></label>
          @if (platformsExtended) {
            @if (platforms.length > 0) {
              <div class="checkbox-group">
                @for (platform of platforms; track $index) {
                  <mat-checkbox [formControl] = "platformsArray.controls[$index]">
                    {{platform.name}}
                  </mat-checkbox>
                }
              </div>            
            }@else{
              <p>Loading platforms...</p>
            }
          }
        </div>

        <button 
        id="filter-btn"
        (click)="onFilterBtnClick()"
        >
          {{loading ? 'Loading...' : 'Filter Games'}}
        </button>
      </form>
    </div>
  }@else {
      <mat-icon
        class="open-arrow"
        style="color: whitesmoke;"
        (click)="toggleSidebar()"
      >
        keyboard_arrow_right
      </mat-icon>    
  }
  

